{"ast":null,"code":"var _jsxFileName = \"/Users/parasvohra/Desktop/React Project/Ryyd/ryyd/src/common/test.jsx\";\nimport React from \"react\";\nimport Joi from \"@hapi/joi\";\nimport Input from \"../common/input\";\nimport Select from \"../common/select\";\nexport const validate = () => {\n  const options = {\n    abortEarly: false\n  };\n  const Schema = Joi.object().keys(this.schema);\n  const {\n    error\n  } = Schema.validate(this.state.data, options);\n  if (!error) return null;\n  const errors = {};\n\n  for (let item of error.details) errors[item.path[0]] = item.message;\n\n  return errors;\n};\nexport const validateProperty = ({\n  name,\n  value\n}) => {\n  const obj = {\n    [name]: value\n  };\n  const schema = {\n    [name]: this.schema[name]\n  };\n  const Schema = Joi.object().keys(schema);\n  const {\n    error\n  } = Schema.validate(obj);\n  return error ? error.details[0].message : null;\n};\nexport const handleSubmit = e => {\n  e.preventDefault();\n  const errors = this.validate();\n  this.setState({\n    errors: errors || {}\n  });\n  if (errors) return;\n  this.doSubmit();\n};\nexport const handleChange = ({\n  currentTarget: input\n}) => {\n  const errors = { ...this.state.errors\n  };\n  const errorMessage = this.validateProperty(input);\n  if (errorMessage) errors[input.name] = errorMessage;else delete errors[input.name];\n  const data = { ...this.state.data\n  };\n  data[input.name] = input.value;\n  this.setState({\n    data,\n    errors\n  });\n};\nexport const renderButton = label => {\n  return /*#__PURE__*/React.createElement(\"button\", {\n    disabled: this.validate(),\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, label);\n};\nexport const renderInput = (name, label, type = \"text\") => {\n  const {\n    data,\n    errors\n  } = this.state;\n  return /*#__PURE__*/React.createElement(Input, {\n    type: type,\n    name: name,\n    value: data[name],\n    onChange: this.handleChange,\n    label: label,\n    error: errors[name],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  });\n};\nexport const renderSelect = (name, label, options) => {\n  const {\n    data,\n    errors\n  } = this.state;\n  return /*#__PURE__*/React.createElement(Select, {\n    name: name,\n    value: data[name],\n    label: label,\n    options: options,\n    onChange: this.handleChange,\n    error: errors[name],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  });\n};\nexport default {\n  renderSelect,\n  renderInput,\n  renderButton,\n  handleChange,\n  handleSubmit,\n  validateProperty,\n  validate\n};","map":{"version":3,"sources":["/Users/parasvohra/Desktop/React Project/Ryyd/ryyd/src/common/test.jsx"],"names":["React","Joi","Input","Select","validate","options","abortEarly","Schema","object","keys","schema","error","state","data","errors","item","details","path","message","validateProperty","name","value","obj","handleSubmit","e","preventDefault","setState","doSubmit","handleChange","currentTarget","input","errorMessage","renderButton","label","renderInput","type","renderSelect"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Joi from \"@hapi/joi\";\nimport Input from \"../common/input\";\nimport Select from \"../common/select\";\n\nexport const validate = () => {\n  const options = { abortEarly: false };\n  const Schema = Joi.object().keys(this.schema);\n  const { error } = Schema.validate(this.state.data, options);\n\n  if (!error) return null;\n  const errors = {};\n  for (let item of error.details) errors[item.path[0]] = item.message;\n  return errors;\n};\n\nexport const validateProperty = ({ name, value }) => {\n  const obj = { [name]: value };\n  const schema = { [name]: this.schema[name] };\n  const Schema = Joi.object().keys(schema);\n  const { error } = Schema.validate(obj);\n\n  return error ? error.details[0].message : null;\n};\n\nexport const handleSubmit = e => {\n  e.preventDefault();\n  const errors = this.validate();\n  this.setState({ errors: errors || {} });\n  if (errors) return;\n\n  this.doSubmit();\n};\n\nexport const handleChange = ({ currentTarget: input }) => {\n  const errors = { ...this.state.errors };\n  const errorMessage = this.validateProperty(input);\n  if (errorMessage) errors[input.name] = errorMessage;\n  else delete errors[input.name];\n\n  const data = { ...this.state.data };\n  data[input.name] = input.value;\n  this.setState({ data, errors });\n};\n\nexport const renderButton = label => {\n  return (\n    <button disabled={this.validate()} className=\"btn btn-primary\">\n      {label}\n    </button>\n  );\n};\n\nexport const renderInput = (name, label, type = \"text\") => {\n  const { data, errors } = this.state;\n  return (\n    <Input\n      type={type}\n      name={name}\n      value={data[name]}\n      onChange={this.handleChange}\n      label={label}\n      error={errors[name]}\n    />\n  );\n};\n\nexport const renderSelect = (name, label, options) => {\n  const { data, errors } = this.state;\n  return (\n    <Select\n      name={name}\n      value={data[name]}\n      label={label}\n      options={options}\n      onChange={this.handleChange}\n      error={errors[name]}\n    />\n  );\n};\n\nexport default {\n  renderSelect,\n  renderInput,\n  renderButton,\n  handleChange,\n  handleSubmit,\n  validateProperty,\n  validate,\n};\n"]},"metadata":{},"sourceType":"module"}